<!DOCTYPE html>
<html lang="en">
<head>
    <title>ConsoleJS Remote</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="Lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="Lib/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="Lib/prettify/prettify.css" type="text/css" rel="stylesheet" />

    <script src="Lib/jquery-1.8.3.min.js"></script>
    <script src="Lib/bootstrap/js/bootstrap.min.js"></script>
    <script src="Lib/prettify/prettify.js"></script>
    <script src="Lib/prettify/lang-css.js"></script>
    <script src="Lib/prettify/lang-tex.js"></script>
    <script src="/socket.io/socket.io.js"></script>

    <link href="UI/consoleJS.css" rel="stylesheet">
    <script src="UI/ConsoleUI.js"></script>
    <script src="UI/Room.js"></script>
    <script src="UI/RoomManager.js"></script>
    <script src="UI/SocketServer.js"></script>
</head>
<body onload="prettyPrint();">
<div id="main-wrapper">
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container-fluid">
                <a class="brand" href="#">Console JS</a>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span2">
                <div class="well sidebar-nav">
                    <ul id="clientList" class="nav nav-list">
                        <li class='nav-header'>Active Client List</li>
                    </ul>
                </div>
            </div>
            <div class="span10">
                <!--Body content-->
                <div class="input-append">
                    <textarea id="command" class="input-block-level" rows="2"></textarea>
                </div>
                <ul id="connectRooms" class="nav nav-tabs">
                </ul>
                <div id="connectRoomsContent" class="tab-content">
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script type="text/javascript">

(function () {

    $('#command').keypress(function (e) {
        if (e.keyCode == 13 && !e.shiftKey) {
            var data = $(this).val();
            if (data) {
                server.request(data);
                $(this).val('');
            }
            e.preventDefault();
        }
    });

    function sizing() {
        var wrapperHeight = $("#main-wrapper").height();
        var tabHeight = $("#connectRooms").height() || 0;
        var contentHeight = wrapperHeight - tabHeight - 200;
        $("#connectRoomsContent").height(contentHeight + "px");
    }

    $(document).ready(sizing);
    $(window).resize(sizing);

    var server = new SocketServer('http://localhost:8082');
    server.start();
}());
</script>
</html>